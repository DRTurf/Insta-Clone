(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/logo.2005889e.png"},19:function(e,t,a){},20:function(e,t,a){},23:function(e,t,a){e.exports=a(52)},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){},50:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(21),o=a.n(c),r=(a(32),a(3)),i=(a(34),a(10)),s=a.n(i),m=(a(36),a(5)),u=Object(n.createContext)(),d=a(0);function p(e){var t=e.login,a=Object(n.useContext)(u).setModalOpen,c=Object(d.m)();return l.a.createElement("div",{className:"navbar"},l.a.createElement("img",{src:s.a,alt:"",onClick:function(){c("/")}}),l.a.createElement("ul",{className:"nav-menu"},function(){var e=localStorage.getItem("jwt");return t||e?[l.a.createElement(l.a.Fragment,null,l.a.createElement(m.b,{to:"/Profile"},l.a.createElement("li",null,"Profile")),l.a.createElement(m.b,{to:"/CreatePost"},l.a.createElement("li",null,"Create Post")),l.a.createElement(m.b,{style:{marginLeft:"20px"},to:"/MyFollowing"},l.a.createElement("li",null,"My Following")),l.a.createElement(m.b,{to:""},l.a.createElement("button",{className:"primaryBtn",onClick:function(){return a(!0)}},"Log Out")))]:[l.a.createElement(l.a.Fragment,null,l.a.createElement(m.b,{to:"/Signup"},l.a.createElement("li",null,"SignUp")),l.a.createElement(m.b,{to:"/Signin"},l.a.createElement("li",null,"SignIn")))]}()))}a(38);var f=a(6);function E(){var e=Object(n.useContext)(u).setUserLogin,t=Object(d.m)(),a=Object(n.useState)(""),c=Object(r.a)(a,2),o=c[0],i=c[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),g=E[0],h=E[1],b=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,v=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/,y=function(e){return f.b.error(e)},N=function(){return b.test(o)?v.test(g)?void fetch("/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:g})}).then(function(e){return e.json()}).then(function(a){var n;a.error?y(a.error):(n="Login successful",f.b.success(n),localStorage.setItem("jwt",a.token),localStorage.setItem("user",JSON.stringify(a.user)),e(!0),t("/")),console.log(a)}):y("Password must contain at least eight characters,one special character,an upper case and lower case character"):y("Invalid email")};return l.a.createElement("div",{className:"signIn"},l.a.createElement("div",null,l.a.createElement("div",{className:"loginForm"},l.a.createElement("img",{className:"signUpLogo",src:s.a,alt:""}),l.a.createElement("div",null,l.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Email",value:o,onChange:function(e){i(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",value:g,onChange:function(e){h(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",id:"login-btn",value:"Sign In",onClick:function(){N()}})),l.a.createElement("div",{className:"loginForm2"},"Don't have an account ?",l.a.createElement(m.b,{to:"/Signup"},l.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Sign Up"))))))}a(40);function g(){var e=Object(d.m)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),u=Object(r.a)(i,2),p=u[0],E=u[1],g=Object(n.useState)(""),h=Object(r.a)(g,2),b=h[0],v=h[1],y=Object(n.useState)(""),N=Object(r.a)(y,2),j=N[0],w=N[1],O=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,S=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/,C=function(e){return f.b.error(e)},k=function(){return O.test(p)?S.test(j)?void fetch("/signup",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,email:p,userName:b,password:j})}).then(function(e){return e.json()}).then(function(t){var a;t.error?C(t.error):(a=t.message,f.b.success(a),e("/Signin")),console.log(t)}):C("Password must contain at least eight characters,one special character,an upper case and lower case character"):C("Invalid email")};return l.a.createElement("div",{className:"signUp"},l.a.createElement("div",{className:"form-container"},l.a.createElement("div",{className:"form"},l.a.createElement("img",{className:"signUpLogo",src:s.a,alt:""}),l.a.createElement("p",{className:"loginPara"},"Sign up to see photos and videos ",l.a.createElement("br",null)," from your friends"),l.a.createElement("div",null,l.a.createElement("input",{type:"email",name:"email",id:"email",value:p,placeholder:"Email",onChange:function(e){E(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Full Name",value:c,onChange:function(e){o(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"Username",value:b,onChange:function(e){v(e.target.value)}})),l.a.createElement("div",null,l.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"Password",value:j,onChange:function(e){w(e.target.value)}})),l.a.createElement("p",{className:"loginPara",style:{fontSize:"12px",margin:"3px 0px"}},"By signing up, you agree to out Terms, ",l.a.createElement("br",null)," privacy policy and cookies policy."),l.a.createElement("input",{type:"submit",id:"submit-btn",value:"Sign Up",onClick:function(){k()}})),l.a.createElement("div",{className:"form2"},"Already have an account ?",l.a.createElement(m.b,{to:"/signin"},l.a.createElement("span",{style:{color:"blue",cursor:"pointer"}},"Sign In")))))}a(19),a(43);function h(e){var t=e.item,a=e.toggleDetails,n=Object(d.m)(),c=function(e){window.confirm("Are you sure you want to remove this post?")&&fetch("/deletePost/".concat(e),{method:"delete",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){var t;e.message?(console.log(e),t=e.message,f.b.success(t),n("/"),a()):e.error&&function(e){f.b.error(e)}(e.error)})};return l.a.createElement("div",{className:"showComment"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"postPic"},l.a.createElement("img",{src:t.photo,alt:""})),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"card-header",style:{borderBottom:"1px solid #00000029"}},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:"https://images.unsplash.com/photo-1597626259989-a11e97b7772d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGtpdHRlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",alt:""})),l.a.createElement("h5",null,t.postedBy.name),l.a.createElement("div",{className:"deletePost"},l.a.createElement("span",{className:"material-symbols-outlined",onClick:function(){c(t._id)}},"delete"))),l.a.createElement("div",{className:"comment-section",style:{borderBottom:"1px solid #00000029"}},t.comments.map(function(e){return l.a.createElement("p",{className:"comm"},l.a.createElement("span",{className:"commenter",style:{fontWeight:"bolder"}},e.postedBy.name," "),l.a.createElement("span",{className:"commentText"},e.comment))})),l.a.createElement("div",{className:"card-content"},l.a.createElement("p",null,t.likes.length," likes"),l.a.createElement("p",null,t.body)),l.a.createElement("div",{className:"add-comment"},l.a.createElement("span",{className:"material-symbols-outlined"},"sentiment_satisfied"),l.a.createElement("input",{type:"text",placeholder:"Add a comment"}),l.a.createElement("button",{className:"comment"},"Post")))),l.a.createElement("div",{className:"close-comment"},l.a.createElement("span",{className:"material-symbols-outlined material-symbols-outlined-comment",onClick:function(){a()}},"close")))}function b(e){var t=e.changePic,a=Object(n.useRef)(null),c=Object(n.useState)(""),o=Object(r.a)(c,2),i=o[0],s=o[1],m=Object(n.useState)(""),u=Object(r.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)(function(){i&&function(){var e=new FormData;e.append("file",i),e.append("upload_preset","cloud1"),e.append("cloud_name","drturf"),fetch("https://api.cloudinary.com/v1_1/drturf/image/upload",{method:"POST",body:e}).then(function(e){return e.json()}).then(function(e){return p(e.url)}).catch(function(e){return console.log(e)})}()},[i]);var f=function(){fetch("/uploadProfilePic",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({pic:d})}).then(function(e){return e.json()}).then(function(e){console.log(e),t(),window.location.reload()}).catch(function(e){return console.log(e)})};Object(n.useEffect)(function(){d&&f()},[d]);return l.a.createElement("div",{className:"profilePic darkBg"},l.a.createElement("div",{className:"changePic centered"},l.a.createElement("div",null,l.a.createElement("h2",null,"Change Profile Photo")),l.a.createElement("div",{style:{border:"1px solid #00000030"}},l.a.createElement("button",{className:"upload-btn",style:{color:"#1EA1F7"},onClick:function(){a.current.click()}},"Upload Photo"),l.a.createElement("input",{type:"file",ref:a,accept:"image/*",style:{display:"none"},onChange:function(e){s(e.target.files[0])}})),l.a.createElement("div",{style:{border:"1px solid #00000030"}},l.a.createElement("button",{className:"upload-btn",style:{color:"#ED4956"},onClick:function(){p(null),f()}}," ","Remove Current Photo")),l.a.createElement("div",{style:{border:"1px solid #00000030"}},l.a.createElement("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"15px"},onClick:function(){return t()}},"Cancel"))))}function v(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(r.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(!1),d=Object(r.a)(u,2),p=d[0],f=d[1],E=Object(n.useState)(""),g=Object(r.a)(E,2),v=g[0],y=g[1],N=function(e){a?c(!1):(c(!0),m(e))},j=function(){f(!p)},w=Object(n.useState)([]),O=Object(r.a)(w,2),S=O[0],C=O[1];return Object(n.useEffect)(function(){fetch("/users/".concat(JSON.parse(localStorage.getItem("user"))._id),{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){C(e.post),y(e.user)}).catch(function(e){return console.log(e)})},[]),l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile-frame"},l.a.createElement("div",{className:"profile-pic",onClick:function(){return j()}},l.a.createElement("img",{src:v.Photo?v.Photo:"https://t4.ftcdn.net/jpg/03/32/59/65/240_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",alt:""})),l.a.createElement("div",{className:"profile-data"},l.a.createElement("h1",null,JSON.parse(localStorage.getItem("user")).name),l.a.createElement("div",{className:"profile-info",style:{display:"flex"}},l.a.createElement("p",null,S?S.length:"0"," Posts"),l.a.createElement("p",null,v.following?v.following.length:"0"," Following"),l.a.createElement("p",null,v.follower?v.follower.length:"0"," Followers")))),l.a.createElement("hr",{style:{width:"90%",opacity:"0.8",margin:"25px auto"}}),l.a.createElement("div",{className:"gallery"},S.map(function(e){return l.a.createElement("img",{key:e._id,src:e.photo,className:"item",alt:"",onClick:function(){N(e)}})})),a&&l.a.createElement(h,{item:s,toggleDetails:N}),p&&l.a.createElement(b,{changePic:j}))}a(45),a(20);function y(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(r.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(!1),E=Object(r.a)(p,2),g=E[0],h=E[1],b=Object(n.useState)([]),v=Object(r.a)(b,2),y=v[0],N=v[1],j=Object(d.m)(),w=function(e){g?h(!1):(h(!0),N(e))};Object(n.useEffect)(function(){localStorage.getItem("jwt")||j("/Signin"),fetch("/allposts",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){return c(e)}).catch(function(e){return console.log(e)})},[]);var O=function(e,t){fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({comment:e,postId:t})}).then(function(e){return e.json()}).then(function(e){var t,n=a.map(function(t){return t._id===e._id?e:t});c(n),u(""),t="Comment posted",f.b.success(t),console.log(e)})};return l.a.createElement("div",{className:"home"},a.map(function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:e.postedBy.Photo?e.postedBy.Photo:"https://t4.ftcdn.net/jpg/03/32/59/65/240_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",alt:""})),l.a.createElement(m.b,{to:"/profile/".concat(e.postedBy._id)},l.a.createElement("h5",null," ",e.postedBy.name))),l.a.createElement("div",{className:"card-image"},l.a.createElement("img",{src:e.photo,alt:""})),l.a.createElement("div",{className:"card-content"},e.likes.includes(JSON.parse(localStorage.getItem("user"))._id)?l.a.createElement("span",{class:"material-symbols-outlined material-symbols-outlined-red",onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then(function(e){return e.json()}).then(function(e){var t=a.map(function(t){return t._id===e._id?e:t});c(t),console.log(e)}).catch(function(e){console.log(e)})}},"favorite"):l.a.createElement("span",{className:"material-symbols-outlined",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then(function(e){return e.json()}).then(function(e){var t=a.map(function(t){return t._id===e._id?e:t});c(t),console.log(e)}).catch(function(e){console.log(e)})}},"favorite"),l.a.createElement("p",null,e.likes.length," likes"),l.a.createElement("p",null,e.body),l.a.createElement("p",{style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){w(e)}},"Veiw all comments")),l.a.createElement("div",{className:"add-comment"},l.a.createElement("span",{className:"material-symbols-outlined"},"sentiment_satisfied"),l.a.createElement("input",{type:"text",placeholder:"Add a comment",value:s,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{className:"comment",onClick:function(){O(s,e._id)}},"Post")))}),g&&l.a.createElement("div",{className:"showComment"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"postPic"},l.a.createElement("img",{src:y.photo,alt:""})),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"card-header",style:{borderBottom:"1px solid #00000029"}},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:"https://images.unsplash.com/photo-1597626259989-a11e97b7772d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGtpdHRlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",alt:""})),l.a.createElement("h5",null,y.postedBy.name)),l.a.createElement("div",{className:"comment-section",style:{borderBottom:"1px solid #00000029"}},y.comments.map(function(e){return l.a.createElement("p",{className:"comm"},l.a.createElement("span",{className:"commenter",style:{fontWeight:"bolder"}},e.postedBy.name," "),l.a.createElement("span",{className:"commentText"},e.comment))})),l.a.createElement("div",{className:"card-content"},l.a.createElement("p",null,y.likes.length,"likes"),l.a.createElement("p",null,y.body)),l.a.createElement("div",{className:"add-comment"},l.a.createElement("span",{className:"material-symbols-outlined"},"sentiment_satisfied"),l.a.createElement("input",{type:"text",placeholder:"Add a comment",value:s,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{className:"comment",onClick:function(){O(s,y._id),w()}},"Post")))),l.a.createElement("div",{className:"close-comment"},l.a.createElement("span",{className:"material-symbols-outlined material-symbols-outlined-comment",onClick:function(){w()}},"close"))))}a(48);function N(){var e=Object(d.m)(),t=Object(n.useState)(""),a=Object(r.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)(""),s=Object(r.a)(i,2),m=s[0],u=s[1],p=Object(n.useState)(""),E=Object(r.a)(p,2),g=E[0],h=E[1];Object(n.useEffect)(function(){g&&fetch("/createpost",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({body:c,pic:g})}).then(function(e){return e.json()}).then(function(t){var a;t.error?(a=t.error,f.b.error(a)):(!function(e){f.b.success(e)}("Saved successfully"),e("/"))}).catch(function(e){return console.log(e)})},[g]);return l.a.createElement("div",{className:"createPost"},l.a.createElement("div",{className:"post-header"},l.a.createElement("h4",{style:{margin:"3px auto"}},"Create New Post"),l.a.createElement("button",{id:"post-btn",onClick:function(){!function(){console.log(c,m);var e=new FormData;e.append("file",m),e.append("upload_preset","cloud1"),e.append("cloud_name","drturf"),fetch("https://api.cloudinary.com/v1_1/drturf/image/upload",{method:"POST",body:e}).then(function(e){return e.json()}).then(function(e){return h(e.url)}).catch(function(e){return console.log(e)}),console.log(g)}()}},"Share")),l.a.createElement("div",{className:"main-div"},l.a.createElement("img",{id:"output",src:"https://th.bing.com/th/id/OIP.ZaA8xlyk9o8DcMEBQIrGkQHaHa?pid=ImgDet&rs=1",alt:""}),l.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){!function(e){var t=document.getElementById("output");t.src=URL.createObjectURL(e.target.files[0]),t.onload=function(){URL.revokeObjectURL(t.src)}}(e),u(e.target.files[0])}})),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:"https://images.unsplash.com/photo-1597626259989-a11e97b7772d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGtpdHRlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",alt:""})),l.a.createElement("h5",null,"DRTurf")),l.a.createElement("textarea",{type:"text",placeholder:"Write a caption",value:c,onChange:function(e){o(e.target.value)}})))}var j=a(22);a(50);function w(e){var t=e.setModalOpen,a=Object(d.m)();return l.a.createElement("div",{className:"darkBg",onClick:function(){return t(!1)}},l.a.createElement("div",{className:"centered"},l.a.createElement("div",{className:"modal"},l.a.createElement("div",{className:"modalHeader"},l.a.createElement("h5",{className:"heading"},"Confirm")),l.a.createElement("button",{className:"closeBtn"},l.a.createElement(j.a,{onClick:function(){return t(!1)}})),l.a.createElement("div",{className:"modalContent"},"Logout Confirm?"),l.a.createElement("div",{className:"modalActions"},l.a.createElement("div",{className:"actionsContainer"},l.a.createElement("button",{className:"logOutBtn",onClick:function(){t(!1),localStorage.clear(),a("/signin")}},"Log Out"),l.a.createElement("button",{className:"cancelBtn",onClick:function(){return t(!1)}},"Cancel"))))))}function O(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(r.a)(o,2),s=i[0],m=i[1],u=Object(n.useState)(""),p=Object(r.a)(u,2),f=p[0],E=p[1],g=Object(d.o)().userId;console.log(g);return Object(n.useEffect)(function(){fetch("/users/".concat(g),{}).then(function(e){return e.json()}).then(function(e){console.log(e),E(e.user),m(e.post),e.user.follower.includes(JSON.parse(localStorage.getItem("user"))._id)&&c(!0)}).catch(function(e){return console.log(e)})},[]),l.a.createElement("div",{className:"profile"},l.a.createElement("div",{className:"profile-frame"},l.a.createElement("div",{className:"profile-pic"},l.a.createElement("img",{src:f.Photo?f.Photo:"https://t4.ftcdn.net/jpg/03/32/59/65/240_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",alt:""})),l.a.createElement("div",{className:"profile-data"},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("h1",null,f.name),l.a.createElement("button",{className:"followBtn",onClick:function(){var e;a?(e=f._id,fetch("/unfollow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({followId:e})}).then(function(e){return e.json()}).then(function(e){console.log(e),c(!1)})):function(e){fetch("/follow",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({followId:e})}).then(function(e){return e.json()}).then(function(e){console.log(e),c(!0)})}(f._id)}},a?"Unfollow":"Follow")),l.a.createElement("div",{className:"profile-info",style:{display:"flex"}},l.a.createElement("p",null,s.length," Posts"),l.a.createElement("p",null,f.following?f.following.length:"0"," Following"),l.a.createElement("p",null,f.follower?f.follower.length:"0"," Followers")))),l.a.createElement("hr",{style:{width:"90%",opacity:"0.8",margin:"25px auto"}}),l.a.createElement("div",{className:"gallery"},s.map(function(e){return l.a.createElement("img",{key:e._id,src:e.photo,className:"item",alt:""})})))}function S(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(r.a)(o,2),s=i[0],u=i[1],p=Object(n.useState)(!1),E=Object(r.a)(p,2),g=E[0],h=E[1],b=Object(n.useState)([]),v=Object(r.a)(b,2),y=v[0],N=v[1],j=Object(d.m)(),w=function(e){g?h(!1):(h(!0),N(e))};Object(n.useEffect)(function(){localStorage.getItem("jwt")||j("/Signin"),fetch("/myfollowing",{headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then(function(e){return e.json()}).then(function(e){return c(e)}).catch(function(e){return console.log(e)})},[]);var O=function(e,t){fetch("/comment",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({comment:e,postId:t})}).then(function(e){return e.json()}).then(function(e){var t,n=a.map(function(t){return t._id===e._id?e:t});c(n),u(""),t="Comment posted",f.b.success(t),console.log(e)})};return l.a.createElement("div",{className:"home"},a.map(function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:e.postedBy.Photo?e.postedBy.Photo:"https://t4.ftcdn.net/jpg/03/32/59/65/240_F_332596535_lAdLhf6KzbW6PWXBWeIFTovTii1drkbT.jpg",alt:""})),l.a.createElement(m.b,{to:"/profile/".concat(e.postedBy._id)},l.a.createElement("h5",null,e.postedBy.name))),l.a.createElement("div",{className:"card-image"},l.a.createElement("img",{src:e.photo,alt:""})),l.a.createElement("div",{className:"card-content"},e.likes.includes(JSON.parse(localStorage.getItem("user"))._id)?l.a.createElement("span",{class:"material-symbols-outlined material-symbols-outlined-red",onClick:function(){var t;t=e._id,fetch("/unlike",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then(function(e){return e.json()}).then(function(e){var t=a.map(function(t){return t._id===e._id?e:t});c(t),console.log(e)}).catch(function(e){console.log(e)})}},"favorite"):l.a.createElement("span",{className:"material-symbols-outlined",onClick:function(){var t;t=e._id,fetch("/like",{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then(function(e){return e.json()}).then(function(e){var t=a.map(function(t){return t._id===e._id?e:t});c(t),console.log(e)}).catch(function(e){console.log(e)})}},"favorite"),l.a.createElement("p",null,e.likes.length," likes"),l.a.createElement("p",null,e.body),l.a.createElement("p",{style:{fontWeight:"bold",cursor:"pointer"},onClick:function(){w(e)}},"Veiw all comments")),l.a.createElement("div",{className:"add-comment"},l.a.createElement("span",{className:"material-symbols-outlined"},"sentiment_satisfied"),l.a.createElement("input",{type:"text",placeholder:"Add a comment",value:s,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{className:"comment",onClick:function(){O(s,e._id)}},"Post")))}),g&&l.a.createElement("div",{className:"showComment"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"postPic"},l.a.createElement("img",{src:y.photo,alt:""})),l.a.createElement("div",{className:"details"},l.a.createElement("div",{className:"card-header",style:{borderBottom:"1px solid #00000029"}},l.a.createElement("div",{className:"card-pic"},l.a.createElement("img",{src:"https://images.unsplash.com/photo-1597626259989-a11e97b7772d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTF8fGtpdHRlbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",alt:""})),l.a.createElement("h5",null,y.postedBy.name)),l.a.createElement("div",{className:"comment-section",style:{borderBottom:"1px solid #00000029"}},y.comments.map(function(e){return l.a.createElement("p",{className:"comm"},l.a.createElement("span",{className:"commenter",style:{fontWeight:"bolder"}},e.postedBy.name," "),l.a.createElement("span",{className:"commentText"},e.comment))})),l.a.createElement("div",{className:"card-content"},l.a.createElement("p",null,y.likes.length,"likes"),l.a.createElement("p",null,y.body)),l.a.createElement("div",{className:"add-comment"},l.a.createElement("span",{className:"material-symbols-outlined"},"sentiment_satisfied"),l.a.createElement("input",{type:"text",placeholder:"Add a comment",value:s,onChange:function(e){u(e.target.value)}}),l.a.createElement("button",{className:"comment",onClick:function(){O(s,y._id),w()}},"Post")))),l.a.createElement("div",{className:"close-comment"},l.a.createElement("span",{className:"material-symbols-outlined material-symbols-outlined-comment",onClick:function(){w()}},"close"))))}var C=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(r.a)(o,2),s=i[0],h=i[1];return l.a.createElement(m.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(u.Provider,{value:{setUserLogin:c,setModalOpen:h}},l.a.createElement(p,{login:a}),l.a.createElement(d.c,null,l.a.createElement(d.a,{path:"/",element:l.a.createElement(y,null)}),l.a.createElement(d.a,{exact:!0,path:"/Profile",element:l.a.createElement(v,null)}),l.a.createElement(d.a,{path:"/Signin",element:l.a.createElement(E,null)}),l.a.createElement(d.a,{path:"/Signup",element:l.a.createElement(g,null)}),l.a.createElement(d.a,{path:"/CreatePost",element:l.a.createElement(N,null)}),l.a.createElement(d.a,{path:"/Profile/:userId",element:l.a.createElement(O,null)}),l.a.createElement(d.a,{path:"/MyFollowing",element:l.a.createElement(S,null)})),l.a.createElement(f.a,{theme:"dark"}),s&&l.a.createElement(w,{setModalOpen:h}))))},k=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,53)).then(function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),l(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null))),k()}},[[23,3,2]]]);
//# sourceMappingURL=main.6f935f72.chunk.js.map